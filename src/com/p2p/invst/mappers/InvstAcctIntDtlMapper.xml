<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.p2p.invst.mappers.InvstAcctIntDtlMapper">
	<!-- 1、配置返回结果Map和参数Map -->
	<resultMap type="InvstAcctIntDtl" id="baseInvstAcctIntDtlResultMap">
		<id property="txSeqNo" column="TX_SEQ_NO"/>
		<result property="serlNo" column="SERL_NO"/>
		<result property="invstNo" column="INVST_NO"/>
		<result property="prftTyp" column="PRFT_TYP"/>
		<result property="txDate" column="TX_DATE"/>
		<result property="acctNo" column="ACCT_NO"/>
		<result property="custNo" column="CUST_NO"/>
		<result property="custName" column="CUST_NAME"/>
		<result property="prodNo" column="PROD_NO"/>
		<result property="prodName" column="PROD_NAME"/>
		<result property="subjNo" column="SUBJ_NO"/>
		<result property="drCrFlag" column="DR_CR_FLAG"/>
		<result property="estIncomeDt" column="est_income_dt"/>
		<result property="estIncomeAmt" column="est_income_amt"/>
		<result property="actualIncomeDt" column="actual_income_dt"/>
		<result property="actualIncomeAmt" column="actual_income_amt"/>
		<result property="paymentPpleAmt" column="payment_pple_amt"/>
		<result property="actualPpleAmt" column="actual_pple_amt"/>
		<result property="paymentIntAmt" column="payment_int_amt"/>
		<result property="actualIntAmt" column="actual_int_amt"/>
		<result property="txStat" column="TX_STAT"/>
		<result property="txCod" column="TX_COD"/>
		<result property="txDesc" column="TX_DESC"/>
		<result property="instDate" column="INST_DATE"/>
		<result property="updtDate" column="UPDT_DATE"/>
		<result property="recordStat" column="record_stat"/>
	</resultMap>
	<resultMap type="InvstAcctIntDtl" id="invstAcctIntDtlResultMap" extends="baseInvstAcctIntDtlResultMap">
	</resultMap>
	<!-- <parameter property="deptId" javaType="string" jdbcType="VARCHAR"/> -->
	<parameterMap type="InvstAcctIntDtl" id="invstAcctIntDtlParameterMap">
		<parameter property="txSeqNo" javaType="string" jdbcType="VARCHAR"/>
		<parameter property="serlNo" javaType="integer" jdbcType="INTEGER"/>
		<parameter property="invstNo" javaType="string" jdbcType="VARCHAR"/>
		<parameter property="prftTyp" javaType="string" jdbcType="VARCHAR"/>
		<parameter property="txDate" javaType="date" jdbcType="TIMESTAMP"/>
		<parameter property="acctNo" javaType="string" jdbcType="VARCHAR"/>
		<parameter property="custNo" javaType="string" jdbcType="VARCHAR"/>
		<parameter property="custName" javaType="string" jdbcType="VARCHAR"/>
		<parameter property="prodNo" javaType="string" jdbcType="VARCHAR"/>
		<parameter property="prodName" javaType="string" jdbcType="VARCHAR"/>
		<parameter property="subjNo" javaType="string" jdbcType="VARCHAR"/>
		<parameter property="drCrFlag" javaType="string" jdbcType="VARCHAR"/>
		<parameter property="estIncomeDt" javaType="date" jdbcType="TIMESTAMP"/>
		<parameter property="estIncomeAmt" javaType="decimal" jdbcType="DECIMAL "/>
		<parameter property="actualIncomeDt" javaType="date" jdbcType="TIMESTAMP"/>
		<parameter property="actualIncomeAmt" javaType="decimal" jdbcType="DECIMAL "/>
		<parameter property="paymentPpleAmt" javaType="decimal" jdbcType="DECIMAL "/>
		<parameter property="actualPpleAmt" javaType="decimal" jdbcType="DECIMAL "/>
		<parameter property="paymentIntAmt" javaType="decimal" jdbcType="DECIMAL "/>
		<parameter property="actualIntAmt" javaType="decimal" jdbcType="DECIMAL "/>
		<parameter property="txStat" javaType="string" jdbcType="VARCHAR"/>
		<parameter property="txCod" javaType="string" jdbcType="VARCHAR"/>
		<parameter property="txDesc" javaType="string" jdbcType="VARCHAR"/>
		<parameter property="instDate" javaType="date" jdbcType="TIMESTAMP"/>
		<parameter property="updtDate" javaType="date" jdbcType="TIMESTAMP"/>
		<parameter property="recordStat" javaType="string" jdbcType="CHAR"/>
	</parameterMap>

	<!-- 2、各个SeqID -->
	<insert id="add" parameterMap="invstAcctIntDtlParameterMap">
		INSERT INTO invst_acct_int_dtl (TX_SEQ_NO, SERL_NO, INVST_NO, PRFT_TYP, TX_DATE, ACCT_NO, CUST_NO, CUST_NAME, PROD_NO, PROD_NAME, SUBJ_NO, DR_CR_FLAG, est_income_dt, est_income_amt, actual_income_dt, actual_income_amt, payment_pple_amt, actual_pple_amt, payment_int_amt, actual_int_amt, TX_STAT, TX_COD, TX_DESC, INST_DATE, UPDT_DATE, record_stat) VALUES (
			#{txSeqNo, jdbcType=VARCHAR}, 
			#{serlNo, jdbcType=INTEGER}, 
			#{invstNo, jdbcType=VARCHAR}, 
			#{prftTyp, jdbcType=VARCHAR}, 
			#{txDate, jdbcType=TIMESTAMP}, 
			#{acctNo, jdbcType=VARCHAR}, 
			#{custNo, jdbcType=VARCHAR}, 
			#{custName, jdbcType=VARCHAR}, 
			#{prodNo, jdbcType=VARCHAR}, 
			#{prodName, jdbcType=VARCHAR}, 
			#{subjNo, jdbcType=VARCHAR}, 
			#{drCrFlag, jdbcType=VARCHAR}, 
			#{estIncomeDt, jdbcType=TIMESTAMP}, 
			#{estIncomeAmt, jdbcType=DECIMAL }, 
			#{actualIncomeDt, jdbcType=TIMESTAMP}, 
			#{actualIncomeAmt, jdbcType=DECIMAL }, 
			#{paymentPpleAmt, jdbcType=DECIMAL }, 
			#{actualPpleAmt, jdbcType=DECIMAL }, 
			#{paymentIntAmt, jdbcType=DECIMAL }, 
			#{actualIntAmt, jdbcType=DECIMAL }, 
			#{txStat, jdbcType=VARCHAR}, 
			#{txCod, jdbcType=VARCHAR}, 
			#{txDesc, jdbcType=VARCHAR}, 
			#{instDate, jdbcType=TIMESTAMP}, 
			#{updtDate, jdbcType=TIMESTAMP}, 
			#{recordStat, jdbcType=CHAR}
		)
	</insert>
	<!-- 判断不可重复的属性是否已经存在，这里默认只判断deptName属性，具体的业务再进行修改添加 -->
	<!--
	<select id="isExists" resultType="integer" parameterMap="invstAcctIntDtlParameterMap">
		SELECT COUNT(1) FROM invst_acct_int_dtl WHERE DEPT_NAME=#{deptName}
		<if test="deptId != null and deptId !='' ">
			<![CDATA[ AND DEPT_ID <> #{deptId, jdbcType=VARCHAR} ]]>
		</if>
	</select>
	-->
	<select id="getById" resultMap="invstAcctIntDtlResultMap" parameterType="string">
		SELECT * FROM invst_acct_int_dtl WHERE TX_SEQ_NO = #{value}
	</select>
	<select id="page" resultMap="invstAcctIntDtlResultMap" parameterType="InvstAcctIntDtl">
		SELECT * FROM invst_acct_int_dtl WHERE 1=1
		<!-- 各种条件 --> 
		<!--
		<if test="deptName != null and deptName !='' ">
			<![CDATA[ AND DEPT_NAME LIKE CONCAT(CONCAT('%', #{deptName}),'%')]]>
		</if>
		-->
	</select>
	<select id="getTotal" resultType="long" parameterType="InvstAcctIntDtl">
		SELECT COUNT(1) FROM invst_acct_int_dtl WHERE 1=1
		<!-- 各种条件 --> 
		<!--
		<if test="deptName != null and deptName !='' ">
			<![CDATA[ AND DEPT_NAME LIKE CONCAT(CONCAT('%', #{deptName}),'%')]]>
		</if>
		-->
	</select>
	<delete id="deleteById" parameterType="string">
		DELETE FROM invst_acct_int_dtl WHERE TX_SEQ_NO = #{value}
	</delete>
	<update id="edit" parameterType="InvstAcctIntDtl">
		UPDATE invst_acct_int_dtl 
		<!-- 各种更改的字段 --> 
		<set>
			<if test="serlNo != null and serlNo !='' ">
				SERL_NO = #{serlNo, jdbcType=INTEGER}, 
			</if>
			<if test="invstNo != null and invstNo !='' ">
				INVST_NO = #{invstNo, jdbcType=VARCHAR}, 
			</if>
			<if test="prftTyp != null and prftTyp !='' ">
				PRFT_TYP = #{prftTyp, jdbcType=VARCHAR}, 
			</if>
			<if test="txDate != null and txDate !='' ">
				TX_DATE = #{txDate, jdbcType=TIMESTAMP}, 
			</if>
			<if test="acctNo != null and acctNo !='' ">
				ACCT_NO = #{acctNo, jdbcType=VARCHAR}, 
			</if>
			<if test="custNo != null and custNo !='' ">
				CUST_NO = #{custNo, jdbcType=VARCHAR}, 
			</if>
			<if test="custName != null and custName !='' ">
				CUST_NAME = #{custName, jdbcType=VARCHAR}, 
			</if>
			<if test="prodNo != null and prodNo !='' ">
				PROD_NO = #{prodNo, jdbcType=VARCHAR}, 
			</if>
			<if test="prodName != null and prodName !='' ">
				PROD_NAME = #{prodName, jdbcType=VARCHAR}, 
			</if>
			<if test="subjNo != null and subjNo !='' ">
				SUBJ_NO = #{subjNo, jdbcType=VARCHAR}, 
			</if>
			<if test="drCrFlag != null and drCrFlag !='' ">
				DR_CR_FLAG = #{drCrFlag, jdbcType=VARCHAR}, 
			</if>
			<if test="estIncomeDt != null and estIncomeDt !='' ">
				est_income_dt = #{estIncomeDt, jdbcType=TIMESTAMP}, 
			</if>
			<if test="estIncomeAmt != null and estIncomeAmt !='' ">
				est_income_amt = #{estIncomeAmt, jdbcType=DECIMAL }, 
			</if>
			<if test="actualIncomeDt != null and actualIncomeDt !='' ">
				actual_income_dt = #{actualIncomeDt, jdbcType=TIMESTAMP}, 
			</if>
			<if test="actualIncomeAmt != null and actualIncomeAmt !='' ">
				actual_income_amt = #{actualIncomeAmt, jdbcType=DECIMAL }, 
			</if>
			<if test="paymentPpleAmt != null and paymentPpleAmt !='' ">
				payment_pple_amt = #{paymentPpleAmt, jdbcType=DECIMAL }, 
			</if>
			<if test="actualPpleAmt != null and actualPpleAmt !='' ">
				actual_pple_amt = #{actualPpleAmt, jdbcType=DECIMAL }, 
			</if>
			<if test="paymentIntAmt != null and paymentIntAmt !='' ">
				payment_int_amt = #{paymentIntAmt, jdbcType=DECIMAL }, 
			</if>
			<if test="actualIntAmt != null and actualIntAmt !='' ">
				actual_int_amt = #{actualIntAmt, jdbcType=DECIMAL }, 
			</if>
			<if test="txStat != null and txStat !='' ">
				TX_STAT = #{txStat, jdbcType=VARCHAR}, 
			</if>
			<if test="txCod != null and txCod !='' ">
				TX_COD = #{txCod, jdbcType=VARCHAR}, 
			</if>
			<if test="txDesc != null and txDesc !='' ">
				TX_DESC = #{txDesc, jdbcType=VARCHAR}, 
			</if>
			<if test="instDate != null and instDate !='' ">
				INST_DATE = #{instDate, jdbcType=TIMESTAMP}, 
			</if>
			<if test="updtDate != null and updtDate !='' ">
				UPDT_DATE = #{updtDate, jdbcType=TIMESTAMP}, 
			</if>
			<if test="recordStat != null and recordStat !='' ">
				record_stat = #{recordStat, jdbcType=CHAR}, 
			</if>

			WHERE TX_SEQ_NO = #{txSeqNo, jdbcType=VARCHAR} 
		</set>
	</update>
</mapper>
