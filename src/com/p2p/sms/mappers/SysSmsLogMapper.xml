<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.p2p.sms.mappers.SysSmsLogMapper">
	<!-- 1、配置返回结果Map和参数Map -->
	<resultMap type="SysSmsLog" id="baseSysSmsLogResultMap">
		<id property="Id" column="Id"/>
		<result property="custNo" column="CUST_NO"/>
		<result property="status" column="status"/>
		<result property="regDate" column="REG_DATE"/>
	</resultMap>
	<resultMap type="SysSmsLog" id="sysSmsLogResultMap" extends="baseSysSmsLogResultMap">
	</resultMap>
	<!-- <parameter property="deptId" javaType="string" jdbcType="VARCHAR"/> -->
	<parameterMap type="SysSmsLog" id="sysSmsLogParameterMap">
		<parameter property="Id" javaType="integer" jdbcType="INTEGER"/>
		<parameter property="custNo" javaType="string" jdbcType="VARCHAR"/>
		<parameter property="status" javaType="integer" jdbcType="INTEGER"/>
		<parameter property="regDate" javaType="date" jdbcType="TIMESTAMP"/>
	</parameterMap>

	<!-- 2、各个SeqID -->
	<insert id="add" parameterMap="sysSmsLogParameterMap">
		INSERT INTO sys_sms_log (Id, CUST_NO, status, REG_DATE) VALUES (
			#{Id, jdbcType=INTEGER}, 
			#{custNo, jdbcType=VARCHAR}, 
			#{status, jdbcType=INTEGER}, 
			#{regDate, jdbcType=TIMESTAMP}
		)
	</insert>
	<!-- 判断不可重复的属性是否已经存在，这里默认只判断deptName属性，具体的业务再进行修改添加 -->
	<!--
	<select id="isExists" resultType="integer" parameterMap="sysSmsLogParameterMap">
		SELECT COUNT(1) FROM sys_sms_log WHERE DEPT_NAME=#{deptName}
		<if test="deptId != null and deptId !='' ">
			<![CDATA[ AND DEPT_ID <> #{deptId, jdbcType=VARCHAR} ]]>
		</if>
	</select>
	-->
	<select id="getById" resultMap="sysSmsLogResultMap" parameterType="string">
		SELECT * FROM sys_sms_log WHERE Id = #{value}
	</select>
	<select id="page" resultMap="sysSmsLogResultMap" parameterType="SysSmsLog">
		SELECT * FROM sys_sms_log WHERE 1=1
		<!-- 各种条件 --> 
		<!--
		<if test="deptName != null and deptName !='' ">
			<![CDATA[ AND DEPT_NAME LIKE CONCAT(CONCAT('%', #{deptName}),'%')]]>
		</if>
		-->
	</select>
	<select id="getTotal" resultType="long" parameterType="SysSmsLog">
		SELECT COUNT(1) FROM sys_sms_log WHERE 1=1
		<!-- 各种条件 --> 
		<!--
		<if test="deptName != null and deptName !='' ">
			<![CDATA[ AND DEPT_NAME LIKE CONCAT(CONCAT('%', #{deptName}),'%')]]>
		</if>
		-->
	</select>
	<delete id="deleteById" parameterType="string">
		DELETE FROM sys_sms_log WHERE Id = #{value}
	</delete>
	<update id="edit" parameterType="SysSmsLog">
		UPDATE sys_sms_log 
		<!-- 各种更改的字段 --> 
		<set>
			<if test="custNo != null and custNo !='' ">
				CUST_NO = #{custNo, jdbcType=VARCHAR}, 
			</if>
			<if test="status != null and status !='' ">
				status = #{status, jdbcType=INTEGER}, 
			</if>
			<if test="regDate != null and regDate !='' ">
				REG_DATE = #{regDate, jdbcType=TIMESTAMP}, 
			</if>

			WHERE Id = #{Id, jdbcType=INTEGER} 
		</set>
	</update>
</mapper>
